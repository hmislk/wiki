# Database Schema DDL Generation Guide

This page explains how to generate and apply the full database schema for the application, including all missing tables and fields. This is especially useful when setting up a fresh instance of the application or restoring a database structure.

## Steps to Generate the DDL File

1. Locate the `persistence.xml` file in your project you use for development.
2. Replace its contents with the configuration from `persistence_for_database_generation_script.xml`.
3. Adjust the values in that file, especially the location where the DDL file should be generated on your computer.
4. Run the application once. This will generate the full database schema as a DDL script in the specified file location.
5. Open the generated DDL file and copy its contents.
6. In the application where you want to update the database, go to **Menu > Administration > Manage Metadata > Add Missing Fields**, paste the copied DDL content into the provided text area, and click the **Update Database** button.
7. The contents of the latest version of the ddl file is given below so that you need not to generate it yourself.


## Full DDL File Contents

```sql
-- Replace this block with the actual DDL content generated by the application
CREATE TABLE Area (
    id BIGINT NOT NULL AUTO_INCREMENT,
    name VARCHAR(255),
    description VARCHAR(255),
    creater_id BIGINT,
    createdAt DATETIME,
    retired BOOLEAN,
    retirer_id BIGINT,
    retiredAt DATETIME,
    retireComments VARCHAR(255),
    superArea_id BIGINT,
    sname VARCHAR(255),
    tname VARCHAR(255),
    PRIMARY KEY (id)
);

-- Additional CREATE TABLE statements...
```



[Back](https://github.com/hmislk/hmis/wiki/Installation-Manual)